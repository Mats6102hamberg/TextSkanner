datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model DiaryEntry {
  id        String   @id @default(cuid())
  text      String?
  originalText   String?
  translatedText String?
  imageUrl  String?
  createdAt DateTime @default(now())
}

model ContractDocument {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  title     String?
  rawText   String
  language  String
  analyses  ContractAnalysis[]
}

model ContractAnalysis {
  id         String           @id @default(cuid())
  createdAt  DateTime         @default(now())
  document   ContractDocument @relation(fields: [documentId], references: [id])
  documentId String
  overallRisk String
  resultJson Json
}
